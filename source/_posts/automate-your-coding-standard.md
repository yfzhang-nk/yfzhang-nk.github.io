---
title: 程序员应该知道的97件事-4 自动化你的编码标准
date: 2020-07-16 17:53:42
tags: 
	- 程序员应该知道的97件事
categories:
	- 英文文章翻译
---

原文链接：{% link Automate Your Coding Standard, https://97-things-every-x-should-know.gitbooks.io/97-things-every-programmer-should-know/content/en/thing_04/, https://uploads-ssl.webflow.com/5c349f90a3cd4515d0564552/5c66e5b48238e30e170da3be_logo.svg %}

## {% span blue, 自动化你的编码规范 %}

你可能有过这样的经历，项目一开始时，每个人都有很多想法-我们称为新项目决议。这些决议经常会记录到文档里。关于代码的决议最终会称为项目的代码规范。在启动会议上，开发负责人会浏览文档，最好的情况，每个人都同意会尝试遵守它。然而，一旦项目开始，这些好的想法都会一个一个被抛弃。当最终交付项目时，代码看起来一团糟，没有人知道怎么变成这样的。

是什么时候变糟的？大概在启动会议时，项目成员有些不太在意，其他人没有理解这点，更糟糕的，有些人根本就不同意这些规范，可能已经开始计划不服从这些规范。最后，有些人抓住了重点而且也同意，但是当项目压力过高时，他们不得不放任不管规范了。格式良好的代码并不会在客户那里获得加分，他们只是想要更多功能。而且加入代码规范不是自动化的，遵守它是一项很无聊的任务。尝试下缩进一个排版混乱的类，你就能明白自动化的好处了。

<!-- more -->

既然有这些问题，我们为什么还要一开始就制定编码规范呢？使用统一的代码规范的一个原因是，可以避免某些人通过使用自己的编码风格“独占”一段代码。我们想要阻止开发者使用反模式，以此避免一些常见Bug。总之，代码规范能够使在项目中工作变的轻松，从头到尾都可以保持开发速度。达到这个效果的前提是每个人都遵守它，否则就没有用了，比如有的人使用三个空格缩进，另一些人用四个缩进。

有很丰富的工具被用来生成代码质量报告或者是文档化维护代码规范，但这都不能全面解决问题。一定要把它自动化，在任何地方尽可能的强制执行。以下有一些示例：
* 保证你的代码规范检查是构建过程中的一环，以此可以让每个人都能在编译的时候自动的运行一遍规范检查。
* 用静态代码分析工具去扫描一遍代码中非预期的反模式。一旦发现终止构建。
* 学习如何配置这些工具，以便你可以定制你自己的扫描策略。
* 不要只测量代码测试覆盖率，还要自动化的检查结果。同样的，一旦发现测试覆盖率过低，就终止构建。

尽量自动化所有你认为重要的地方。你不可能把所有你关心的点都自动化起来。有一些地方你无法做到标记或修复的，把它们写到一个指导手册里，作为代码规范自动化的补充，但是你要接受这个事实：你的同事可能不会那么严格遵守手册中的内容。

最后，代码规范应该是动态的而不是静态的。随着项目的演进，项目需求会变，一开始看起来很聪明的做法，几个月后就看起来没有那么必要了。

By {% link Filip van Laenen,  https://github.com/filipvanlaenen %}

## {% span blue, 单词 %}
{% pullquote [class] %}
{% span green, quite often %} 经常
{% span green, get underway %}  开始、启程
{% span green, in all %}  总之
{% span green, diligently %} 勤奋的，勤勉的
{% endpullquote %}

## {% span blue, 个人观点 %}
除了代码规范应该自动化外，其他东西也可以学习自动化的方式。比如公司的价值观，个人的思维模式（或者行为准则）。大脑需要慢系统才能完成的事情，借助自动化这个外脑，在快系统中就能够得出正确决定。
